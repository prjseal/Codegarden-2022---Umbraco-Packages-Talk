<div ng-controller="uSyncCacheController as vm"
     class="usync-publisher-dashboard">

    <umb-box>
        <umb-box-header title="Cache control"
                        description="uSync cache control, helps speed up publishing">

            <umb-button type="button"
                        action="vm.showSettings(false)"
                        label="Disable caching"
                        button-style="default"
                        state="vm.cacheButtonState"
                        ng-if="vm.enabled">
            </umb-button>
            <umb-button type="button"
                        action="vm.showSettings(true)"
                        label="Enable caching"
                        button-style="success"
                        state="vm.cacheButtonState"
                        ng-if="!vm.enabled">
            </umb-button>
        </umb-box-header>

        <umb-box-content>
            <localize key="usyncpublish_cacheIntro"></localize>
        </umb-box-content>

        <umb-box-content ng-if="vm.enabled">

            <umb-button type="button"
                        action="vm.rebuild()"
                        button-style="warning"
                        label="Rebuild caches"
                        state="vm.rebuildState">
            </umb-button>

        </umb-box-content>

        <umb-box-content ng-if="vm.enabled">
            <div class="flex">
                <div>
                    <strong>Cached items :</strong>  {{vm.status.count}}
                </div>
            </div>
        </umb-box-content>
    </umb-box>
</div>