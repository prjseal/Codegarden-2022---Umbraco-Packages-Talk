!function(){"use strict";angular.module("umbraco").factory("uSyncExpansionService",function($http){var serviceRoot=Umbraco.Sys.ServerVariables.uSyncComplete.expansionService;return{getLicenceStatus:function(product,version){return $http.get(serviceRoot+"GetLicenceStatus/?product="+product+"&version="+version)},getLicence:function(product,version){return $http.get(serviceRoot+"GetLicence/?product="+product+"&version="+version)},saveLicence:function(licence){return $http.post(serviceRoot+"SaveLicence",licence)},isLicenced:function(product,version){return $http.get(serviceRoot+"IsLicenced/?product="+product+"&version="+version)},importItems:function(entityTypes,force,clientId){return $http.put(serviceRoot+"importItems",{entityTypes:entityTypes,force:force,clientId:clientId})},reportItems:function(entityTypes,clientId){return $http.post(serviceRoot+"reportItems",{entityTypes:entityTypes,clientId:clientId})},exportItems:function(entityTypes,clientId){return $http.post(serviceRoot+"exportItems",{entityTypes:entityTypes,clientId:clientId})}}})}(),function(){"use strict";angular.module("umbraco").controller("uSyncLicenceController",function($scope,notificationsService,uSyncExpansionService){var vm=this;function init(){vm.loading=!0,uSyncExpansionService.getLicenceStatus("complete","8.2.0").then(function(result){vm.status=result.data}),uSyncExpansionService.getLicence("complete","8.2.0").then(function(result){vm.licence=result.data,vm.loading=!1})}vm.loading=!0,vm.save=function(){vm.buttonState="busy",uSyncExpansionService.saveLicence(vm.licence).then(function(result){notificationsService.success("Saved","Licence Info Saved"),vm.buttonState="success",init()},function(error){notificationsService.error("Error","Failed to save"+error.data.ExceptionMessage),vm.buttonState="error"})},vm.buttonState="init",init()})}(),function(){"use strict";var errorComponent={templateUrl:Umbraco.Sys.ServerVariables.application.applicationPath+"App_Plugins/uSyncExpansions/components/error.html",bindings:{error:"<",title:"@"},controllerAs:"vm",controller:function(editorService){var vm=this;vm.openErrorDialog=function(){var options={error:vm.error,title:"Error "+vm.title,message:vm.message,view:Umbraco.Sys.ServerVariables.application.applicationPath+"App_Plugins/uSyncExpansions/components/errordialog.html",close:function(){editorService.close()}};editorService.open(options)}}};angular.module("umbraco").component("usyncErrorBox",errorComponent)}(),function(){"use strict";angular.module("umbraco").controller("uSyncErrorDialogController",function($scope){this.pageTitle=$scope.model.title,this.message=$scope.model.message,this.error=$scope.model.error,this.close=function(){$scope.model.close&&$scope.model.close()}})}(),function(){"use strict";var licenceComponent={templateUrl:Umbraco.Sys.ServerVariables.application.applicationPath+"App_Plugins/uSyncExpansions/components/licence.html",bindings:{product:"<",version:"<"},controllerAs:"vm",controller:function(uSyncExpansionService){var vm=this;vm.status={},vm.$onInit=function(){uSyncExpansionService.getLicenceStatus(vm.product,vm.version).then(function(result){vm.status=result.data})}}};angular.module("umbraco").component("usyncExpansionLicence",licenceComponent)}(),function(){"use strict";angular.module("umbraco").factory("uSyncDependencyManager",function(){var dependencyFlags={none:0,includeChildren:2,includeAncestors:4,includeDependencies:8,includeFiles:16,includeMedia:32,includeLinked:64,includeMediaFiles:128,includeConfig:256,adjacentOnly:512};return{getFlags:function(options){var flags=0;options.includeChildren&&(flags|=dependencyFlags.includeChildren);options.includeAncestors&&(flags|=dependencyFlags.includeAncestors);options.includeDependencies&&(flags|=dependencyFlags.includeDependencies);options.includeFiles&&(flags|=dependencyFlags.includeFiles);options.includeMedia&&(flags|=dependencyFlags.includeMedia);options.includeLinked&&(flags|=dependencyFlags.includeLinked);options.includeMediaFiles&&(flags|=dependencyFlags.includeMediaFiles);options.includeConfig&&(flags|=dependencyFlags.includeConfig);options.AdjacentOnly&&(flags|=dependencyFlags.AdjacentOnly);return flags},getOptionsFlags:function(options){var flags=0;options.includeChildren?.value&&(flags|=dependencyFlags.includeChildren);options.includeAncestors?.value&&(flags|=dependencyFlags.includeAncestors);options.includeDependencies?.value&&(flags|=dependencyFlags.includeDependencies);options.includeFiles?.value&&(flags|=dependencyFlags.includeFiles);options.includeMedia?.value&&(flags|=dependencyFlags.includeMedia);options.includeLinked?.value&&(flags|=dependencyFlags.includeLinked);options.includeMediaFiles?.value&&(flags|=dependencyFlags.includeMediaFiles);options.includeConfig?.value&&(flags|=dependencyFlags.includeConfig);options.AdjacentOnly?.value&&(flags|=dependencyFlags.AdjacentOnly);return flags},createBatches:function(items,size){var batches=[],count=Math.ceil(items.length/size);for(let b=0;b<count;b++){var batch=items.slice(b*size,(b+1)*size);batches.push(batch)}return batches}}})}(),function(){"use strict";angular.module("umbraco").factory("uSyncItemManager",function($http){return{getEntity:function(treeItem){return $http.post(Umbraco.Sys.ServerVariables.uSyncComplete.itemManager+"getEntity",treeItem)}}})}(),function(){"use strict";angular.module("umbraco").factory("uSyncSettingManager",function(overlayService,localizationService){return{showAppSettings:function(titlekey,contentkey,settings){localizationService.localizeMany([titlekey,contentkey]).then(function(options){options={view:Umbraco.Sys.ServerVariables.umbracoSettings.appPluginsPath+"/uSyncExpansions/settings/overlay.html",title:options[0],content:options[1],settings:settings,disableBackgroundClick:!0,disableEscKey:!0,hideSubmitButton:!0,submit:function(){overlayService.close()},close:function(){overlayService.close()}};overlayService.open(options)})}}})}();
//# sourceMappingURL=usyncexpansions.9.4.0.min.js.map
